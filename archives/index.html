<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>mmjzxz's blog</title><meta name="description" content="满船清梦"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">mmjzxz's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>归档 · 全部</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2022/07/11/ArrayList/bg.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/07/11/ArrayList/"><img class="post-cover-img js-img-fadeIn" src="/2022/07/11/ArrayList/bg.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E6%BA%90%E7%A0%81"><i class="tag post-item-tag">源码</i></a><a href="/tags/ArrayList"><i class="tag post-item-tag">ArrayList</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/07/11/ArrayList/">ArrayList</a></h2><time class="has-text-grey" datetime="2022-07-11T03:41:16.000Z">2022-07-11</time><p class="is-flex-grow-2 mt-2">
ArrayList源码Fail-Fast机制ArrayList也采用了快速失败的机制，通过记录modCount参数来实现。在面对并发的修改时，迭代器很快就会完全失败，而不是冒着在将来某个不确定时间发生任意不确定行为的风险。(Collection - ArrayList 源码解析 | Java 全栈知识体系 (pdai.tech))
jdk8扩容机制参考：ArrayList源码&amp;amp;扩容机制分析 | JavaGuide

add()方法
该方法将指定元素附加到该列表的末尾，可能会导致capacity不足，因此在添加元素之前，都要进行剩余空间检查，如果需要则自动扩容。


//将指定元素附加到此列表的末尾
public boolean add(E e) {
    //添加元素之前，先调用ensureCa..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/07/11/ArrayList/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2022/06/17/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%B8%B8%E9%87%8F%E6%B1%A0/bg.jpg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/06/17/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%B8%B8%E9%87%8F%E6%B1%A0/"><img class="post-cover-img js-img-fadeIn" src="/2022/06/17/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%B8%B8%E9%87%8F%E6%B1%A0/bg.jpg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/java%E5%9F%BA%E7%A1%80"><i class="tag post-item-tag">java基础</i></a><a href="/tags/%E5%8C%85%E8%A3%85%E7%B1%BB"><i class="tag post-item-tag">包装类</i></a><a href="/tags/%E5%B8%B8%E9%87%8F%E6%B1%A0"><i class="tag post-item-tag">常量池</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/06/17/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%B8%B8%E9%87%8F%E6%B1%A0/">包装类</a></h2><time class="has-text-grey" datetime="2022-06-17T13:54:48.000Z">2022-06-17</time><p class="is-flex-grow-2 mt-2">
包装类常量池Byte，Short，Integer，Long这4中包装类默认创建了数值[-128,127]的相应类型的缓存数据，Character创建了数值在[0,127]范围的缓存数据，Boolean直接返回True or False。
Integer缓存源码返回一个表示指定int值的Integer实例。如果不需要新的Integer实例，则通常应优先使用此方法而不是构造函数Integer(int) ，因为此方法可能会通过缓存频繁请求的值来显着提高空间和时间性能。此方法将始终缓存 -128 到 127（含）范围内的值，并且可能缓存此范围之外的其他值。
private static class IntegerCache {
    static final int low = -128;
    static..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/06/17/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%B8%B8%E9%87%8F%E6%B1%A0/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2022/05/28/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/bg.jpg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/05/28/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/"><img class="post-cover-img js-img-fadeIn" src="/2022/05/28/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/bg.jpg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Redis"><i class="tag post-item-tag">Redis</i></a><a href="/tags/Redisson"><i class="tag post-item-tag">Redisson</i></a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81"><i class="tag post-item-tag">分布式锁</i></a><a href="/tags/%E6%BA%90%E7%A0%81"><i class="tag post-item-tag">源码</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/05/28/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/">分布式锁</a></h2><time class="has-text-grey" datetime="2022-05-27T16:17:47.000Z">2022-05-28</time><p class="is-flex-grow-2 mt-2">
分布式锁非分布式锁存在的问题及分布式锁原理synchronized通过JVM内部的锁监视器只能保证内部多个线程之间的互斥，但在有多个JVM时，会存在多个锁监视器，就会导致多个线程获取到锁。如下图所示。

为了解决上述问题，我们不能再使用JVM内部的锁监视器，而是让多个JVM使用同一个锁监视器。关键在于多进程可见及互斥。
分布式锁定义及特性定义满足分布式系统或集群模式下多进程可见并且互斥的锁。
特性
多进程可见
互斥
高可用
高性能
安全性

分布式锁的实现
基于数据库乐观锁：基于版本号悲观锁：基于排它锁
基于Redissetnx:获取锁时利用setnx的互斥特性，添加锁过期时间，避免服务宕机引起死锁；释放锁时手动释放(即删除)或超时释放。Redlock机制
基于Zookeeper临时有序节点:有序性实现互..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/05/28/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2022/05/24/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/error.jpg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/05/24/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/"><img class="post-cover-img js-img-fadeIn" src="/2022/05/24/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/error.jpg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Spring"><i class="tag post-item-tag">Spring</i></a><a href="/tags/%E4%BA%8B%E5%8A%A1"><i class="tag post-item-tag">事务</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/05/24/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/">Spring事务失效问题</a></h2><time class="has-text-grey" datetime="2022-05-24T13:53:17.000Z">2022-05-24</time><p class="is-flex-grow-2 mt-2">
Spring中事务失效的情况官方文档：Data Access (spring.io)
1.方法可见性和@Transactional  (Method visibility and @Transactional)When you use transactional proxies with Spring’s standard configuration, you should apply the annotation only to methods with visibility. If you do annotate , , or package-visible methods with the annotation, no error is raised, but the annotated metho..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/05/24/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2022/05/23/Git%E5%88%9D%E4%BD%93%E9%AA%8C/gitpng.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/05/23/Git%E5%88%9D%E4%BD%93%E9%AA%8C/"><img class="post-cover-img js-img-fadeIn" src="/2022/05/23/Git%E5%88%9D%E4%BD%93%E9%AA%8C/gitpng.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/git"><i class="tag post-item-tag">git</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/05/23/Git%E5%88%9D%E4%BD%93%E9%AA%8C/">Git初体验</a></h2><time class="has-text-grey" datetime="2022-05-23T15:11:57.000Z">2022-05-23</time><p class="is-flex-grow-2 mt-2">

一、git 2.36.1安装1.1 git下载官方链接：Git - Downloads (git-scm.com)个人下载的版本：git-2.36.1
1.2 git安装1.2.1使用许可声明双击Git-2.36.1-64-bit.exe，开始安装，该页面显示第二版协议内容。
1.2.2 选择安装目录选择安装git的目录(因为装过一遍，这一步的图没了)。
1.2.3 选择安装组件Additional icons:添加桌面图标Windows Explorer integration:添加功能到鼠标右键菜单

Git Bash Here:命令行模式
Git GUI Here:图形界面



Git LFS(Large File Support):大文件支持Check daily for Git for Wi..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/05/23/Git%E5%88%9D%E4%BD%93%E9%AA%8C/">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/05/23/hello-world/">Hello World</a></h2><time class="has-text-grey" datetime="2022-05-23T09:54:03.528Z">2022-05-23</time><p class="is-flex-grow-2 mt-2">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post$ hexo new &quot;My New Post&quot;

More info: Writing
Run server$ hexo server

More info: Server
Generate static files$ hexo generate

More info..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/05/23/hello-world/">更多</a></section></article></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>归档</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">4</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!--if (debugSNS || theme.social.twitter)--><!--    a(title="twitter" target="_blank" rel="noopener nofollow" href=`//twitter.com/${theme.social.twitter}`)--><!--        i.iconfont.icon-twitter--><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/mmjzxz"><i class="iconfont icon-github"></i></a><!--// Ins--><!--if (debugSNS || theme.social.instagram)--><!--    a(title="instagram" target="_blank" rel="noopener nofollow" href=`//www.instagram.com/${theme.social.instagram}`)--><!--        i.iconfont.icon-ins--><!--// RSS--><!--if (debugSNS || config.feed && config.feed.enable)--><!--    a(title="rss" target="_blank" rel="noopener nofollow" href= url_for(config.feed.path))--><!--        i.iconfont.icon-rss--><!--// 知乎--><!--if (debugSNS || theme.social.zhihu)--><!--    a(title="zhihu" target="_blank" rel="noopener nofollow" href=`//zhihu.com/${theme.social.zhihu}`)--><!--        i.iconfont.icon-zhihu--><!--// 领英--><!--if (debugSNS || theme.social.linkedin)--><!--    a(title="linkedin" target="_blank" rel="noopener nofollow" href=`//www.linkedin.com/in/${theme.social.linkedin}`)--><!--        i.iconfont.icon-linkedin--><!--// 脸书--><!--if (debugSNS || theme.social.facebook)--><!--    a(title="facebook" target="_blank" rel="noopener nofollow" href=`//www.facebook.com/${theme.social.facebook}`)--><!--        i.iconfont.icon-tian7_facebook--><!-- qq--><!--if (debugSNS || theme.social.qq)--><!--    a(title="qq" target="_blank" rel="noopener nofollow" href=`tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=${theme.social.qq}&website=www.oicqzone.com`)--><!--        i.iconfont.icon-twitter--><!--// email--><!--if (debugSNS || theme.social.email)--><!--    a(title="email" target="_blank" rel="noopener nofollow" href=``)--><!--        i.iconfont.icon-ins--></section><p><span>Copyright ©</span><span> mmjzxz 2022</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>